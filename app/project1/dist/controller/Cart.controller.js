sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],function(e,t){"use strict";return e.extend("project1.controller.Cart",{onInit:function(){this._updateCartTotal();var e=this.getOwnerComponent().getModel("addresses");if(!e){e=new sap.ui.model.json.JSONModel({addresses:[{id:"addr1",label:"Home - 123 Street, Hyderabad"},{id:"addr2",label:"Office - 456 Tech Park, Hyderabad"}]});this.getOwnerComponent().setModel(e,"addresses")}},onDeleteItem:function(e){var t=this.getOwnerComponent().getModel("cart");var r=t.getProperty("/items");var o=e.getSource().getBindingContext("cart").getObject();var a=r.filter(e=>e.id!==o.id);t.setProperty("/items",a);this._updateCartTotal()},_updateCartTotal:function(){var e=this.getOwnerComponent().getModel("cart");var t=e.getProperty("/items")||[];var r=t.reduce((e,t)=>e+t.price*t.quantity,0);e.setProperty("/total",r)},onProceedToCheckout:function(){var e=this.getOwnerComponent().getRouter();var r=this.getOwnerComponent().getModel("cart");var o=this.byId("addressSelect");var a=o?o.getSelectedKey():"";if(!a){t.show("Please select a delivery address before checkout.");return}r.setProperty("/selectedAddressId",a);e.navTo("RoutePayment")},onNavToDashboard:function(){this.getOwnerComponent().getRouter().navTo("RouteDashboard")},onNavToOrders:function(){this.getOwnerComponent().getRouter().navTo("RouteOrder")}})});
//# sourceMappingURL=Cart.controller.js.map