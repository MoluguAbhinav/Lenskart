sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessageBox"],function(e,o,r){"use strict";return e.extend("project1.controller.Login",{onLogin:function(){var e=this.byId("email1").getValue().trim();var t=this.byId("password1").getValue();if(!e||!t)return r.error("Please enter email and password.");fetch("/ecommerce-service/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(e=>e.ok?e.json():e.json().then(e=>Promise.reject(e))).then(e=>{localStorage.setItem("jwt",e.token);localStorage.setItem("username",e.username);o.show("Login successful!");sap.ui.core.UIComponent.getRouterFor(this).navTo("RouteDashboard")}).catch(e=>r.error("Login failed: "+(e&&e.error&&e.error.message||"Unknown")))},onSignupNav:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("RouteSignup")}})});
//# sourceMappingURL=Login.controller.js.map